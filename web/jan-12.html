<!DOCTYPE html><html><head>
		<meta charset="UTF-8" />
		<link rel="stylesheet" href="twid.css" />
		<title>This Week in D: January 12, 2015</title>
		</head><body>
			<div id="body-container">
				<h1>
				<img class="d-logo" src="http://dlang.org/images/dlogo.png" />
				This Week in D: January 12, 2015</h1>
				<!-- Generated by Ddoc from jan-12.dd -->




<p>Welcome to <i>This Week in D</i>! Each week, we'll summarize what's been going on in the D community and write brief advice columns to help you get the most out of the D Programming Language.</p>

<p><a href="http://dlang.org/">The D Programming Language</a> is a general purpose programming language that offers modern convenience, modeling power, and native efficiency with a familiar C-style syntax.</p>

<p>This is the first edition of <i>This Week in D</i> and we're looking for help and feedback. Any suggestions for style, visual design, or content are welcome!</p>

<p><i>This Week in D</i> is edited by <a href="mailto:destructionator+dweek@gmail.com">Adam D. Ruppe</a>. Contact me with any questions, comments, or contributions.</p>

<h2>Statistics</h2>

<ul><li>	<a href="https://issues.dlang.org/buglist.cgi?list_id=179422&resolution=FIXED&chfieldto=2015-01-11&chfield=bug_status&query_format=advanced&chfieldfrom=2015-01-04&chfieldvalue=RESOLVED&bug_status=RESOLVED">22 bugs fixed</a></li><li>
	<a href="https://issues.dlang.org/buglist.cgi?list_id=179423&resolution=---&chfieldto=2015-01-11&chfield=[Bug%20creation]&query_format=advanced&chfieldfrom=2015-01-04&bug_status=NEW">25 bugs added</a></li><li>
			91 pull requests merged into the language:

		<a href="https://github.com/D-Programming-Language/dmd/pulls?q=is%3Apr+is%3Amerged+updated%3A2015-01-04..2015-01-15">41 into DMD</a>,
		<a href="https://github.com/D-Programming-Language/phobos/pulls?q=is%3Apr+is%3Amerged+updated%3A2015-01-04..2015-01-15">31 into Phobos</a>, and
		<a href="https://github.com/D-Programming-Language/druntime/pulls?q=is%3Apr+is%3Amerged+updated%3A2015-01-04..2015-01-15">18 into druntime </a>.
</li></ul>

<h2>Major Changes</h2>

<ul><li>	DDoc in git master dmd now supports <tt>backticked inline code</tt> with escaping.</li><li>
	<a href="		https://github.com/D-Programming-Language/dlang.org/commit/1a0ee6b81aca5f768f78108b1b9300633bddf18f">		The garbage collector can now be configured through the command line, the environment or by options embedded into the executable.</a></li><li>
	<tt>volatileLoad</tt> and <tt>volatileStore</tt> intrinsics were added.</li><li>
	Built-in associative arrays now have a <tt>.byKeyValue</tt> method that returns a forward range iterating over key/value pairs.
</li></ul>
<h2>Project Spotlight</h2>
	<p>The spotlight this week is on this publication, <a href="http://arsdnet.net/this-week-in-d/"><i>This Week in D</i></a>.</p>
	<p><i>This Week in D</i> is written in <a href="http://dlang.org/ddoc.html">Ddoc</a> and is about all things D, with the blessing of Walter Bright and Andrei Alexandrescu. It is a new project, and thus may still be a little rough around the edges - contributions are always welcome.</p>

	<p>It wants to be more than just a collection of statistics and links. <i>This Week in D</i> should be an interesting read for casual observers and experienced D users alike, with a weekly tip column and project spotlight from me or the community to help get the word out about what you're working in on D.</p>

	<p><i>This Week in D</i> keeps its reader appraised about what's going on in D's whole ecosystem!</p>

	<p>Want your project featured here? Prepare a link and write up a few paragraphs about it, then <a href="mailto:destructionator+dweek@gmail.com">contact me</a>! Your project does not have to be complete to be featured - we like works-in-progress too.</p>

<h2>In the community</h2>

<h3>DConf 2015 announced!</h3>

<p><a href="http://dconf.org/2015/index.html">DConf 2015</a> will be held at Utah Valley University in Orem, Utah, from May 27, 2015 through May 29, 2015!</p>

<p><a href="http://forum.dlang.org/thread/m8pg3j$26ba$1@digitalmars.com">UVU is sponsoring DConf 2015</a> and the conference organizers are <a href="http://dconf.org/2015/index.html">looking for talk submissions now</a>.</p>

<p>Hope to see you there!</p>

<h3>Community announcements</h3>

<ul><li>
	<a href="http://forum.dlang.org/thread/weodkqwxrqetvolhbghb@forum.dlang.org">GCCJIT Bindings for D</a></li><li>
	<a href="http://forum.dlang.org/thread/ywtsrevlfecerpopjiig@forum.dlang.org">Bindings for libmRSS: for parsing, writing and creating RSS/ATOM files or streams.</a></li><li>
	<a href="http://forum.dlang.org/thread/hapeegrotkazppwdnstk@forum.dlang.org">DOtherSide: QML bindings for both D and Nim</a></li><li>
	<a href="http://forum.dlang.org/thread/baffupjujyjremacoxky@forum.dlang.org">Gource visualisations of various D repositories</a></li><li>
	<a href="http://forum.dlang.org/thread/fhixatmgqeymkepvlior@forum.dlang.org">D bindings and high level wrapper for systemd journal</a></li><li>
	<a href="http://forum.dlang.org/thread/m8bdul$1dke$1@digitalmars.com">DMD's lexer available on code.dlang.org</a></li><li>
	<a href="http://forum.dlang.org/thread/szqsscsvcbpjjeelkpve@forum.dlang.org">DlangUI project update</a></li><li>
	<a href="http://forum.dlang.org/thread/m8ibci$f8t$1@digitalmars.com">Sargon library gets Ddoc macro processor</a></li><li>
	<a href="http://forum.dlang.org/thread/eycxjdxgsraxtobkeijt@forum.dlang.org">We're looking for a Software Developer! (D language)</a></li><li>
	<a href="http://forum.dlang.org/thread/m84g13$ci1$1@digitalmars.com">Visual D 0.3.40 released</a></li><li>
	<a href="http://forum.dlang.org/thread/pzbudftwgbdptnseonmy@forum.dlang.org">&#x2205;MQD 1.0.0-alpha released - now with full &#x2205;MQ 4.0 support</a></li><li>
	<a href="http://forum.dlang.org/thread/sqcqenpkxufgjxzraonp@forum.dlang.org">We're looking for a Linux Systems Admin!</a></li><li>
	<a href="http://forum.dlang.org/thread/zbqcagfbicgsjgrfxcdx@forum.dlang.org">D port of the Dynamic Window Manager (DWM)</a></li><li>
	<a href="http://forum.dlang.org/thread/avvtftyekvfrqsmdiuup@forum.dlang.org">D idioms list</a>

</li></ul>

	<p>See more at <a href="http://forum.dlang.org/group/digitalmars.D.announce">digitalmars.D.announce</a>.</p>

<h3>Significant Forum Discussions</h3>

	<ul><li>		<a href="http://forum.dlang.org/thread/tqegmjcofcnwapqitrdo@forum.dlang.org">For those ready to take the challenge</a></li><li>
		<a href="http://forum.dlang.org/thread/m7ns90$16t1$1@digitalmars.com">DIP25 - ref revamp proposal</a></li><li>
		<a href="http://forum.dlang.org/thread/mailman.3926.1420094321.9932.digitalmars-d@puremagic.com">Phobos colour module?</a></li><li>
		<a href="http://forum.dlang.org/thread/mailman.4367.1420795702.9932.digitalmars-d@puremagic.com">NaCl/Emscripten</a></li><li>
		<a href="http://forum.dlang.org/thread/vlzwhhymkjgckgyoxlrq@forum.dlang.org">@api: One attribute to rule them All</a></li><li>
		<a href="http://forum.dlang.org/thread/piyaqxrqkajiylfzcxut@forum.dlang.org">Game development</a></li><li>
		<a href="http://forum.dlang.org/thread/eeywxusjhcapltfswqxz@forum.dlang.org">Is it possible to collect object usage information during compilation?</a></li><li>
		<a href="http://forum.dlang.org/thread/okuzksqzczprvuklpzaw@forum.dlang.org">An idea for commercial support for D</a></li><li>
		<a href="http://forum.dlang.org/thread/m8hof1$2q4o$1@digitalmars.com">Ready to make page-per-item ddocs the default?</a></li><li>
		<a href="http://forum.dlang.org/thread/wrlasjtoazqilqcygyww@forum.dlang.org">GSOC - Holiday Edition</a></li><li>
		<a href="http://forum.dlang.org/thread/m8s1dr$24lp$1@digitalmars.com">Is anyone working on a D source code formatting tool?</a></li><li>
		<a href="http://forum.dlang.org/thread/dpweryxnhcrrpxmniwkm@forum.dlang.org">Thoughts on replacement languages (Reddit + D)</a></li><li>
		<a href="http://forum.dlang.org/thread/m90s0u$1a2a$1@digitalmars.com">Good post about out-of-the-box experience with D</a></li><li>
		<a href="http://forum.dlang.org/thread/m8tkfm$ret$1@digitalmars.com">Why exceptions for error handling is so important</a>
	</li></ul>

	<p>See more at <a href="http://forum.dlang.org/">forum.dlang.org</a> and keep up with community blogs at <a href="http://planet.dsource.org/">Planet D</a>.</p>

<!-- I don't think there's any good faqs right now, none that I remember anyway
<h2>FAQs</h2> -->

<h2>Tip of the week</h2>

	<p>This week, we'll look at how to <b>use a custom class allocator at the call site</b>.</p>

	<p>Class objects in D are typically allocated with the <tt>new</tt> operator:</p>

<pre class="d_code">	<font color=green>// classes are reference types, so they must be
</font>	<font color=green>// initialized. "MyClass c;", unlike in C++, would
</font>	<font color=green>// leave c as null, causing a segfault when you try
</font>	<font color=green>// to use it.
</font>	<font color=green>//
</font>	<font color=green>// The normal way to initialize a class is with new:
</font>	MyClass c = <font color=blue>new</font> MyClass(args...);
</pre>

	<p>There are times when you won't want to do that, however, such as
	    when you are avoiding the garbage collector or wanting to use
	    a custom allocator.</p>

	<div class="tip">You can also avoid the garbage collector in your critical loop
	      by pre-allocating your objects before entering the main loop of
	      your program, then reusing those objects as needed. </div>

	<p>The alternative to <tt>new</tt> is to do it yourself: allocate the memory
	    yourself, then call <tt>std.conv.emplace</tt> to perform a placement new
	    in that memory. You can allocate the memory with <tt>malloc</tt> for C
	    style heap memory, or as a static array to place it on the stack:</p>

<pre class="d_code">	<font color=blue>import</font> std.conv : emplace;

	<font color=blue>ubyte</font>[<font color=blue>__traits</font>(classInstanceSize, YourClass)] buffer;

	YourClass obj = emplace!YourClass(buffer[], ctor args...);
	<font color=green>// Destroy the object explicitly at scope exit, which will
</font>	<font color=green>// call the destructor deterministically.
</font>	<font color=blue>scope</font>(exit) .destroy(obj);

	<font color=green>// use obj normally here
</font></pre>

	<p>The <tt>__traits(classInstanceSize, YourClass)</tt> portion is important: it tells you the size of a class object. <tt>YourClass.sizeof</tt> won't work because classes are reference types. It will return the size of the underlying pointer instead of the object itself!</p>

	<p>Once your memory is allocated, you can place the class there then proceed to use it normally. The static array and scope guard will imitate C++'s class behavior in D - allocated on the stack and destroyed when it goes out of scope.</p>

	<div class="pitfall">Wrapping class references in structs for automatic management 
		  is possible, but difficult to get correct when faced with
		  inheritance. Thus, you'll probably use regular class
		  references. When passing them around, be sure not to store
		  those references improperly. Without the garbage collector,
		  you're back in the world of manual memory management, which
		  means you are responsible to get it right yourself!</div>

	<p>Want to learn more about the library function? Check out the <a href="https://github.com/D-Programming-Language/phobos/blob/master/std/conv.d#L3907"><tt>emplace</tt> source code</a>.</p>

	

	<p>Find more D tips at the <a href="http://p0nce.github.io/d-idioms/">D idioms list</a> or buy my <a href="https://www.packtpub.com/application-development/d-cookbook">D Cookbook</a> for a more in-depth examination many D tricks.</p>

	<p>If you'd like to submit a tip, <a href="mailto:destructionator+dweek@gmail.com">email me</a>.</p>



<h2>New people and projects</h2>

	<p>Would you like to introduce yourself or your project? Let me know! Post to <a href="http://forum.dlang.org/group/digitalmars.D.announce">the D announcements forum</a> or <a href="mailto:destructionator+dweek@gmail.com">email me privately</a>.</p>

<h2>Upcoming events</h2>

	<ul><li>		<a href="http://forum.dlang.org/thread/m8dfgb$qfv$1@digitalmars.com">Walter Bright will be presenting at NWCPP on Jan 21 at Microsoft</a></li><li>
		<a href="http://dconf.org/">DConf 2015 will be starting on May 27 in Orem, UT</a>
	</li></ul>

<h2>Learn more about D</h2>
	<p>To learn more about D and what's happening in D:</p>
	
	<ul><li>		Read <a href="http://dlang.org">http://dlang.org</a> and the <a href="http://wiki.dlang.org">D wiki</a>.</li><li>
		Want in-depth material? Check out the <a href="http://wiki.dlang.org/Books">Books on D</a>.</li><li>
		Join us on IRC: channel #d on irc.freenode.net.</li><li>
		Check out the <a href="http://forum.dlang.org/">forums</a> (TIP - check out the NNTP and mailing list links under "Also via" on the forum to subscribe to email updates or access the forum with a newsgroup client!)</li><li>
		Follow <a href="https://twitter.com/D_Programming">D Programming </a> on Twitter</li><li>search for <a href="https://twitter.com/search?q=%23dlang&src=typd">#dlang</a> on Twitter</li><li>and/or follow <a href="https://twitter.com/adamdruppe"><i>This Week in D</i>'s editor on Twitter</a>.</li><li>
		Check out the <a href="http://stackoverflow.com/questions/tagged/d">D tag on Stack Overflow</a>
	</li></ul>


			</div>
		</body></html>
