Ddoc

$(INTRO
	$(P It hasn't been a full week since the last edition because it was late. From here on, we'll be shooting for a weekend write-up each week.)

	$(P $(LOGO This Week in D) is in the process of being hosted at dlang.org. Starting soon, you'll be able to find this publication there.)
)

$(H2 Events happening in the coming week)

	$(P $(LINK2 http://forum.dlang.org/thread/m8dfgb$(DOLLAR)qfv$(DOLLAR)1@digitalmars.com, Walter Bright will be presenting at NWCPP on Jan 21 at Microsoft)!)

	$(P $(LINK2 http://www.meetup.com/D-Lang-Sillicon-Valley/events/219413448/, D: What's Cooking in 2015 by Andrei Alexandrescu on Thursday, January 22))

	$(P $(LINK2 http://forum.dlang.org/thread/fmrbdctphazhgikjhoyc@forum.dlang.org, Berlin Meetup: Friday the 23rd of January from 17:00 to 19:30 at the Melbourne Cantee))


$(H2 Statistics)

$(LIST
	$(LINK2 https://issues.dlang.org/buglist.cgi?bug_status=RESOLVED&chfield=bug_status&chfieldfrom=2015-01-12&chfieldto=2015-01-18&chfieldvalue=RESOLVED&list_id=179422&query_format=advanced&resolution=FIXED, 20 bugs fixed),

	$(LINK2 https://issues.dlang.org/buglist.cgi?bug_status=NEW&chfield=%5BBug%20creation%5D&chfieldfrom=2015-01-12&chfieldto=2015-01-18&list_id=179423&query_format=advanced&resolution=---, 31 bugs and enhancement requests opened),

	$(LITERAL
		43 pull requests merged into the language:

		$(LINK2 https://github.com/D-Programming-Language/dmd/pulls?q=is%3Apr+is%3Amerged+merged%3A2015-01-12..2015-01-18, 26 into DMD),
		$(LINK2 https://github.com/D-Programming-Language/phobos/pulls?q=is%3Apr+is%3Amerged+merged%3A2015-01-12..2015-01-18, 7 into Phobos), and
		$(LINK2 https://github.com/D-Programming-Language/druntime/pulls?q=is%3Apr+is%3Amerged+merged%3A2015-01-12..2015-01-18, 10 into druntime ).),

	$(LINK2 https://github.com/D-Programming-Language/dlang.org/pulls?q=is%3Apr+is%3Amerged+merged%3A2015-01-12..2015-01-18, 21 pull requests merged into the website.)
)

$(H2 Major Changes)

$(LIST
	$(LINK2 https://github.com/D-Programming-Language/druntime/pull/864, The GC will now call destructors on heap allocated structs),
	<!-- $(LINK2 https://github.com/D-Programming-Language/dmd/commit/94b46cf4fc09aa335381de4c35496a6f5b6921a0, Add support for compiling Objective-C code as extra sources [in the test suite]), -->
	$(LINK2 http://forum.dlang.org/thread/m9c0i5$(DOLLAR)rva$(DOLLAR)1@digitalmars.com, DIP25 (sealed references) has been preliminarily approved for 2.067),
	$(LITERAL The website is currently undergoing an overhaul, cleaning up CSS to enable a new style, add responsiveness for mobile devices, and more.)
)

<!--
$(H2 Project Spotlight)
	// FIXME
-->

$(H2 In the community)

$(H3 DConf 2015)

$(P $(LINK2 http://forum.dlang.org/thread/m93sj6$(DOLLAR)19l1$(DOLLAR)1@digitalmars.com, Chuck Allison to deliver keynote))
$(P $(LINK2 http://forum.dlang.org/thread/m8hqr3$(DOLLAR)2tmh$(DOLLAR)1@digitalmars.com, Call for Submissions is still open!))
$(P $(LINK2 http://forum.dlang.org/thread/m96mts$(DOLLAR)19mf$(DOLLAR)1@digitalmars.com, DConf 2015 discounted hotel rooms now available))
$(P $(LINK2 http://forum.dlang.org/thread/m9h25q$(DOLLAR)2gdf$(DOLLAR)1@digitalmars.com, Thanks to p0nce for a nicer DConf logo!))

$(P Hope to see you there!)

$(H3 Community announcements)

$(LIST
	$(LINK2 http://forum.dlang.org/thread/zpfomhmfezpnomvxnrex@forum.dlang.org, Atmosphere GM - Statistical package),
	$(LINK2 http://forum.dlang.org/thread/rvoqllpimfskvlabprot@forum.dlang.org, Binutils 2.25 Released - New D demangling support),
	$(LINK2 http://forum.dlang.org/thread/clhfgdcsjcsgpcwcajdt@forum.dlang.org, Anyone interested in embedding a JVM in their D app?),
	$(LINK2 http://forum.dlang.org/thread/aakkjhuzubfwuyrdnruf@forum.dlang.org, My LLVM talk @ FOSDEM'15),
	$(LINK2 http://forum.dlang.org/thread/gtbgitgjnelylyfijcvc@forum.dlang.org, trimcheck, dhcptest, RABCDAsm),
	$(LINK2 http://forum.dlang.org/thread/ggykowbqwpiuxulpjacf@forum.dlang.org, typescript plugin for vibe.d diet templates),
	$(LINK2 http://forum.dlang.org/thread/qdydtnaylqrcrhnusgko@forum.dlang.org, Heady House Hunting with D),
	$(LINK2 http://forum.dlang.org/thread/efaasmuhbigqxnotzoqi@forum.dlang.org, Deadcode: A code editor in D)

)

	$(P See more at $(LINK2 http://forum.dlang.org/group/digitalmars.D.announce, digitalmars.D.announce).)

$(H3 Significant Forum Discussions)

	$(P Since the last issue of $(LOGO This Week in D), the forum has been dominated by discussions on website and associated process improvements.)

	$(P However, that wasn't everything - there were also discussions on new DIPs (D Improvement Proposals), targeting game consoles, and other items.)

	$(LIST
		$(LINK2 http://forum.dlang.org/thread/bqtcdpsopxmnfbjyrrzf@forum.dlang.org, D Beginner Trying Manual Memory Management),
		$(LINK2 http://forum.dlang.org/thread/zexuqeqdmawbqajrhbri@forum.dlang.org, Can D get on XBone and PS4?),

		$(LINK2 http://forum.dlang.org/thread/m9497d$(DOLLAR)1pv2$(DOLLAR)1@digitalmars.com, Common makefile (gasp) stuff),
		$(LINK2 http://forum.dlang.org/thread/m9a3il$(DOLLAR)21k0$(DOLLAR)1@digitalmars.com, 10 Tips for Better Pull Requests),
		$(LINK2 http://forum.dlang.org/thread/m9btie$(DOLLAR)pcl$(DOLLAR)1@digitalmars.com, [WORK] Backtick dat code?),
		$(LINK2 http://forum.dlang.org/thread/pknqugxoxcvxkmdyvgzu@forum.dlang.org, post qualifier and template constraint limitation, is there a reason ?),
		$(LINK2 http://forum.dlang.org/thread/m9ahpj$(DOLLAR)2i3v$(DOLLAR)1@digitalmars.com, dlang.org should do it in style),
		$(LINK2 http://forum.dlang.org/thread/m9e6br$(DOLLAR)2sa5$(DOLLAR)1@digitalmars.com, Eliminate comparison.html?),
		$(LINK2 http://forum.dlang.org/thread/m9bien$(DOLLAR)dvv$(DOLLAR)1@digitalmars.com, css minification),
		$(LINK2 http://forum.dlang.org/thread/xjhvpmjrlwhhgeqyoipv@forum.dlang.org, DIP71: 'noscope' and 'out!param' attributes),
		$(LINK2 http://forum.dlang.org/thread/m9f558$(DOLLAR)lbb$(DOLLAR)1@digitalmars.com, Please help me with improving dlang.org),
		$(LINK2 http://forum.dlang.org/thread/fteqqezulxncraehycfv@forum.dlang.org, Writing a small linux binary)
	)

	$(P See more at $(LINK2 http://forum.dlang.org/, forum.dlang.org) and keep up with community blogs at $(LINK2 http://planet.dsource.org/, Planet D).)

$(H3 From the past)
	$(P In March 2014, Cybershadow wrote a post about $(LINK2 http://blog.thecybershadow.net/2014/03/21/functional-image-processing-in-d/, Functional Image Processing in D). This post demonstrates how to use D's templates and other features to make efficient and elegant code for working with images of various color layouts.)

$(H2 FAQs)

	$(P I wrote about $(LINK2 http://stackoverflow.com/a/27947350/1457000, HTML parsing on Stack Overflow) again this week, demonstrating how to use my dom.d library to do web scraping.)

	$(P The $(LINK2 http://p0nce.github.io/d-idioms/, D Idioms List) got new entries:)
	$(LIST
		$(LINK2 http://p0nce.github.io/d-idioms/#Porting-from-C-gotchas, Porting from C gotchas),
		$(LINK2 http://p0nce.github.io/d-idioms/#Phobos-gems, Phobos gems),
		$(LINK2 http://p0nce.github.io/d-idioms/#Linking-with-C-gotchas, Linking with C gotchas),
		$(LINK2 http://p0nce.github.io/d-idioms/#if-embedded-declaration, if embedded declarations),
		$(LINK2 http://p0nce.github.io/d-idioms/#Falsey-values, falsey values),
		$(LINK2 http://p0nce.github.io/d-idioms/#Enumerate-fields-with-__traits%28allMembers%29, Enumerate fields with __traits),
		$(LINK2 http://p0nce.github.io/d-idioms/#assert%28false%29-is-special, assert(false) is special)
	)

$(H2 Tip of the week)

	$(P This week, we'll look at $(B UFCS, $(LINK2 http://dlang.org/function.html#pseudo-member, Uniform Function Call Syntax)) to write extension methods to types and $(LINK2 http://www.drdobbs.com/cpp/how-non-member-functions-improve-encapsu/184401197, help improve encapsulation).)

	$(P D, when encountering `obj.func(args...)`, will first attempt a member lookup. Member lookup includes direct methods, inherited methods, `alias this` members, and `opDispatch`, and `opDot` rewriting. If none of those succeed, the compiler will attempt to rewrite the expression into `func(obj, args...)` and compile that.)

	$(PITFALL
		UFCS does $(I not) look at nested functions:
		---
			void foo() {
				void bar(Object obj) { }
				obj.bar(); // won't work because bar is a local symbol
			}
		---

		To use a function with UFCS, it must be defined at module scope:
		---
			void bar(Object obj) {}
			void foo() {
				obj.bar(); // will work
			}
		---
	)

	$(P If the rewrite succeeds unambiguously, the code will compile. Any type may be extended in this fashion:)

		---
			float divideBy(float divisor, float dividend) {
				return divisor / dividend;
			}

			void main() {
				float a = 5.divideBy(2); // works on built-in types too!
				// rewrites into a = divideBy(5, 2);
				assert(a == 2.5);
			}
		---

	$(P UFCS is used in D for three main reasons:)
	$(LIST
		$(LITERAL
			Extending types you don't have direct access to, such as the `divideBy` example above.
		),
		$(LITERAL
			Writing $(LINK2 http://www.drdobbs.com/architecture-and-design/component-programming-in-d/240008321, pipeline style range code):
			---
				import std.algorithm;
				void main() {
					[1,2,3]
						.filter!(isOdd)
						.map!((a) => a**2)
						.writeln;
				}
			---

			None of the functions there are members of the object, but thanks to UFCS, that will compile.
		),
		$(LITERAL
			Improving encapsulation by writing extension methods in different modules, similarly to $(LINK2 http://www.drdobbs.com/cpp/how-non-member-functions-improve-encapsu/184401197, Scott Meyer's advice in C++). If you write methods that work on minimal interfaces, it will keep your access to the object's internals minimized, ensuring you do not depend on those details. Moreover, your extension methods will be `final` - since they aren't members of the class, they are guaranteed to never be `virtual`, potentially saving indirections.))

	$(TIP
		`private` in D means something slightly different than `private` in C++: in D, protection
		works at module (source file) boundaries. All functions inside a single module can see
		all other symbols in that module, regardless of protection level, even if they are `private`
		members from different classes.

		If you want a member to only be visible to a particular class in D, put that class in its
		own file / module.

		$(TIP
			D also supports the `package` protection level, which allows sharing of
			symbols in the same package - sharing the same name up until the last dot -
			but not outside.

			---
				module foo.bar;
				package int a;

				module foo.baz;
				import foo.bar;
				// int a IS accessible

				module something.else;
				import foo.bar;
				// int a is not accessible
			---
		)
	)

	$(HR)

	$(P Find more D tips at the $(LINK2 http://p0nce.github.io/d-idioms/, D idioms list) or buy my $(LINK2 https://www.packtpub.com/application-development/d-cookbook, D Cookbook) for a more in-depth examination of many D tricks.)

	$(P If you'd like to submit a tip, $(LINK2 mailto:destructionator+dweek@gmail.com, email me).)


$(H2 Upcoming events)

	$(UL
		$(LI $(LINK2 http://dconf.org/, DConf 2015 will be starting on May 27 in Orem, Utah, United States))
	)

$(LEARNMORE)

Macros:
	DATE=January 18, 2015
